<!DOCTYPE html>
<html>
<head>
    <title>CMS 调试页</title>
    <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
</head>
<body>
    <h1>Decap CMS 加载测试</h1>
    <div id="status">
        <p>正在检查...</p>
    </div>
    <script>
        const statusEl = document.getElementById('status');
        function log(msg) {
            statusEl.innerHTML += '<br>' + msg;
            console.log(msg);
        }

        log('1. 检查 CMS 全局变量...');
        if (typeof CMS === 'undefined') {
            log('❌ 失败: CMS 库未加载。请检查网络或 unpkg.com 的可访问性。');
        } else {
            log('✅ CMS 库已加载。');

            log('2. 尝试读取配置...');
            // 尝试直接初始化一个最小化的CMS实例来触发可能的配置错误
            try {
                // 注意：这里尝试初始化，可能会因为 config.yml 的错误而失败
                CMS.init();
                log('✅ CMS.init() 已调用。理论上登录按钮应出现。');
            } catch (err) {
                log('❌ CMS 初始化出错: ' + err.message);
            }
        }
    </script>
</body>
</html>